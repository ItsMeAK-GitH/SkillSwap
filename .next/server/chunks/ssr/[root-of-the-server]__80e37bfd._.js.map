{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 279, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/genkit.ts"],"sourcesContent":["import {genkit} from 'genkit';\nimport {googleAI} from '@genkit-ai/google-genai';\n\nexport const ai = genkit({\n  plugins: [googleAI()],\n  model: 'googleai/gemini-2.5-flash',\n});\n"],"names":[],"mappings":";;;AAAA;AAAA;AACA;AAAA;;;AAEO,MAAM,KAAK,CAAA,GAAA,uIAAA,CAAA,SAAM,AAAD,EAAE;IACvB,SAAS;QAAC,CAAA,GAAA,6KAAA,CAAA,WAAQ,AAAD;KAAI;IACrB,OAAO;AACT","debugId":null}},
    {"offset": {"line": 300, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/flows/verify-skill-interactive.ts"],"sourcesContent":["'use server';\n/**\n * @fileOverview An interactive AI flow to verify a user's skill based on a certificate.\n * This flow can ask clarifying questions if it finds discrepancies.\n *\n * - verifySkillInteractive - A function that manages the verification conversation.\n * - VerifySkillInteractiveInput - The input type for the function.\n * - VerifySkillInteractiveOutput - The return type for the function.\n */\n\nimport { ai } from '@/ai/genkit';\nimport { z } from 'zod';\n\nconst VerifySkillInteractiveInputSchema = z.object({\n  userName: z.string().describe(\"The name of the user who uploaded the certificate.\"),\n  skillToVerify: z.string().describe(\"The skill that needs to be verified.\"),\n  certificateDataUri: z\n    .string()\n    .describe(\n      \"A photo of the certificate, as a data URI. Format: 'data:<mimetype>;base64,<encoded_data>'.\"\n    ),\n  userMessage: z.string().optional().describe(\"An optional message from the user providing more context or clarification.\"),\n});\nexport type VerifySkillInteractiveInput = z.infer<typeof VerifySkillInteractiveInputSchema>;\n\nconst VerifySkillInteractiveOutputSchema = z.object({\n  status: z.enum(['VERIFIED', 'FAILED', 'NEEDS_MORE_INFO']).describe(\"The current status of the verification.\"),\n  messageToUser: z.string().describe(\"A message to display to the user explaining the status or asking for more information.\"),\n  reason: z.string().describe(\"The internal reason for the current status.\"),\n});\nexport type VerifySkillInteractiveOutput = z.infer<typeof VerifySkillInteractiveOutputSchema>;\n\nexport async function verifySkillInteractive(input: VerifySkillInteractiveInput): Promise<VerifySkillInteractiveOutput> {\n  return verifySkillInteractiveFlow(input);\n}\n\nconst prompt = ai.definePrompt({\n  name: 'verifySkillInteractivePrompt',\n  input: { schema: VerifySkillInteractiveInputSchema },\n  output: { schema: VerifySkillInteractiveOutputSchema },\n  prompt: `You are an expert verification agent. Your task is to analyze the provided certificate image and determine if it verifies the user's claimed skill. You must be thorough but can ask the user for clarification if you are unsure.\n\n  **User Information:**\n  - User Name: {{userName}}\n  - Skill to Verify: {{skillToVerify}}\n  - Certificate Image: {{media url=certificateDataUri}}\n  {{#if userMessage}}\n  - Additional context from user: \"{{userMessage}}\"\n  {{/if}}\n\n  **Verification Steps:**\n  1.  **Examine the image:** Confirm it is a certificate of completion/achievement. If it's not a certificate, status is 'FAILED'.\n  2.  **Extract Details:** Extract the person's name, the skill/course name, and the issuing organization.\n  3.  **Verify Name:** Compare the extracted name with the user's name ('{{userName}}').\n      - If it's an exact match, proceed.\n      - If it's a partial match (e.g., \"John D.\" for \"John Doe\", or initials like \"A. Rajesh\" for \"Akshith Rajesh\"), the status is 'NEEDS_MORE_INFO'. Ask the user to confirm if the name on the certificate is them.\n      - If it's a clear mismatch, the status is 'FAILED'.\n  4.  **Verify Skill:** Compare the extracted skill/course with the skill to be verified ('{{skillToVerify}}'). They must be highly relevant. If not, the status is 'FAILED'.\n  5.  **Consider User Context:** If the user has provided a message ({{userMessage}}), use it to resolve uncertainties from step 3. For example, if they confirm a partial name is them, you can change the status to 'VERIFIED'.\n  6.  **Final Decision:**\n      - If all checks pass, the status is 'VERIFIED'. The message to the user should be congratulatory.\n      - If any check definitively fails, the status is 'FAILED'. The message should clearly state why.\n      - If you have a reasonable doubt (like a partial name match) and have NOT received user context, the status is 'NEEDS_MORE_INFO'. Your message to the user must be a clear question asking for clarification.\n\n  **Your Response:**\n  Return a single JSON object with the 'status', a user-friendly 'messageToUser', and a brief internal 'reason'.\n  `,\n});\n\nconst verifySkillInteractiveFlow = ai.defineFlow(\n  {\n    name: 'verifySkillInteractiveFlow',\n    inputSchema: VerifySkillInteractiveInputSchema,\n    outputSchema: VerifySkillInteractiveOutputSchema,\n  },\n  async input => {\n    const { output } = await prompt(input);\n    return output!;\n  }\n);\n"],"names":[],"mappings":";;;;;AACA;;;;;;;CAOC,GAED;AACA;;;;;;AAEA,MAAM,oCAAoC,oIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IACjD,UAAU,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IAC9B,eAAe,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IACnC,oBAAoB,oIAAA,CAAA,IAAC,CAClB,MAAM,GACN,QAAQ,CACP;IAEJ,aAAa,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,GAAG,QAAQ,CAAC;AAC9C;AAGA,MAAM,qCAAqC,oIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAClD,QAAQ,oIAAA,CAAA,IAAC,CAAC,IAAI,CAAC;QAAC;QAAY;QAAU;KAAkB,EAAE,QAAQ,CAAC;IACnE,eAAe,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;IACnC,QAAQ,oIAAA,CAAA,IAAC,CAAC,MAAM,GAAG,QAAQ,CAAC;AAC9B;AAGO,eAAe,uBAAuB,KAAkC;IAC7E,OAAO,2BAA2B;AACpC;AAEA,MAAM,SAAS,mHAAA,CAAA,KAAE,CAAC,YAAY,CAAC;IAC7B,MAAM;IACN,OAAO;QAAE,QAAQ;IAAkC;IACnD,QAAQ;QAAE,QAAQ;IAAmC;IACrD,QAAQ,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;EA0BT,CAAC;AACH;AAEA,MAAM,6BAA6B,mHAAA,CAAA,KAAE,CAAC,UAAU,CAC9C;IACE,MAAM;IACN,aAAa;IACb,cAAc;AAChB,GACA,OAAM;IACJ,MAAM,EAAE,MAAM,EAAE,GAAG,MAAM,OAAO;IAChC,OAAO;AACT;;;IA9CoB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 392, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/.next-internal/server/app/verify-skill/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {verifySkillInteractive as '40e8461a829cd843442aedd60f1f359c34c566b7a8'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 438, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/verify-skill/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/verify-skill/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/verify-skill/page.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAiS,GAC9T,+DACA","debugId":null}},
    {"offset": {"line": 452, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/verify-skill/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/verify-skill/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/verify-skill/page.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA6Q,GAC1S,2CACA","debugId":null}},
    {"offset": {"line": 466, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}}]
}